@model IEnumerable<Wasit.Services.ViewModels.ContactUs.ContactUsViewModel>

@{
    ViewData["Title"] = "الرسائل";
}
<style>
    .input-wrapper {
        margin: unset;
    }
</style>
<table id="" class="data-table responsive nowrap" width="100%">
    <thead>
        <tr class="table-head">
            <th class="text-center p-3">اسم المرسل</th>
            <th class="text-center">رقم الجوال</th>
            <th class="text-center">تاريخ الارسال</th>
            <th class="text-center">عنوان الرسالة</th>
            <th class="text-center"></th>
        </tr>
    </thead>
    <tbody>
        @foreach (var item in Model)
        {
            <tr class="table-row">
                <td>
                    <div class="d-flex justify-content-center align-items-center">
                        @* <img src="imgs/test-img/profile.jpg" alt="avatar" class="avatar"> *@
                        <p>@item.Name</p>
                    </div>
                </td>
                <td>@item.Phone</td>
                <td dir="ltr">@item.Date</td>
                <td>
                    <p class="text-truncate m-auto" style="width: 200px;">@item.Subject</p>
                </td>
                <td class="text-center">
                    <div class="d-flex justify-content-center">
                        <button class="edit-btn w-auto open-side" onclick="PassData('@item.Name', '@item.Phone', '@item.Subject', '@item.Message')">التفاصيل</button>
                    </div>
                </td>
            </tr>
        }
    </tbody>
</table>
<div class="side-container">
    <div class="side-details" style="min-width: 500px">
        <div class="side-details-header d-flex mb-4">
            <p class="m-auto font-b">تفاصيل الرسالة</p>
            <i class="fa-solid fa-xmark close-side cursor-p"></i>
        </div>
        <div class="profiel d-flex mb-4">
            @* <img src="imgs/test-img/profile.jpg" alt="avatar" class="avatar ms-3"> *@
            <div>
                <p class="font-b text-dark font-md" id="name"></p>
                <p class="text-secondary font-xs" id="phone"></p>
            </div>
        </div>
        <div class="side-title mb-4">
            <p class="font-b mb-2 font-xs">عنوان الرسالة</p>
            <p class="p-2 border rounded-3 font-xs text-secondary" id="title"></p>
        </div>
        <div class="side-disc">
            <p class="font-b mb-2 font-xs">نص الرسالة</p>
            <p class="p-2 border rounded-3 font-xs text-secondary" id="disc">

            </p>
        </div>
    </div>
</div>


@section scripts {
    <script>
        $(document).ready(function () {
            $('.close-side , .side-container').click(function () {
                $('.side-container').css('transform', 'translateX(-100%)');
            })

            $('.side-details').click(function (e) {
                e.stopPropagation();
            })

            $('.open-side').click(function () {
                $('.side-container').css('transform', 'translateX(0)');
            })
        });


        function PassData(name, phone, subject, message) {
            $('.side-details p#name').text(name);
            $('.side-details p#phone').text(phone);
            $('.side-details p#title').text(subject);
            $('.side-details p#disc').text(message);
        }
    </script>
}
